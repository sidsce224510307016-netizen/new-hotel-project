<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Kitchen Orders | Rialto</title>
<script src="https://cdn.tailwindcss.com"></script>
<style> body { font-family: 'Inter', sans-serif; background: #111827; } .status-preparing { color: #facc15; } </style>
</head>
<body class="text-white p-6">
<h1 class="text-3xl font-bold mb-6">üçΩÔ∏è Kitchen Orders</h1>
<div id="ordersContainer" class="space-y-4"><p class="text-gray-400">Loading orders...</p></div>
<script>
async function loadOrders() {
  try {
    const res = await fetch("/orders"); const orders = await res.json();
    const container = document.getElementById("ordersContainer"); container.innerHTML = "";
    if (orders.length === 0) { container.innerHTML = "<p class='text-gray-400'>No active orders.</p>"; return; }
    orders.forEach(order => {
      const div = document.createElement("div");
      div.className = `bg-gray-900 p-5 rounded-xl shadow border-l-4 ${order.note ? 'border-red-500' : 'border-yellow-500'}`;
      div.innerHTML = `
        <div class="flex justify-between">
          <div><h2 class="text-xl font-semibold">${order.name}</h2><p class="text-sm text-gray-400">Items: ${order.items.length}</p></div>
          <div class="text-right"><span class="text-sm status-preparing">${order.status}</span></div>
        </div>
        ${order.note ? `<div class="mt-3 p-3 bg-red-900/30 border border-red-500/50 rounded-lg text-red-100 italic text-sm"><b>Special Note:</b> "${order.note}"</div>` : ''}
        <ul class="mt-3 text-gray-300">
          ${order.items.map(i => `<li class="flex justify-between border-b border-gray-800 py-1"><span>${i.name}</span><span class="font-bold text-yellow-500">x${i.qty || 1}</span></li>`).join("")}
        </ul>
      `;
      container.appendChild(div);
    });
  } catch (err) { console.error(err); }
}
loadOrders(); setInterval(loadOrders, 5000);
</script>
</body>
</html>